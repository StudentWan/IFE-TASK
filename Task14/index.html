<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .stage {
            width: 600px;
            height: 600px;
            border: 1px solid black;
            margin: 10px auto;
            box-sizing: content-box;
            position: relative;
        }

        [class*='grid-'] {
            box-sizing: border-box;
            width: 60px;
            height: 60px;
            border: 1px solid lightgrey;
            float: left;
        }

        .column:before {
        }

        .column {
            width: 600px;
            margin: 0 auto;
        }

        .column:after {
            content: "";
            display: table;
            clear: both;
        }

        .column div {
            width: 60px;
            float: left;
            text-align: center;
        }

        .row {
            position: absolute;
            height: 600px;
        }

        .row div {
            height: 60px;
            line-height: 60px;
            white-space: nowrap;
            margin-left: -35px;
        }

        .control {
            width: 600px;
            margin: 5px auto;
        }
    </style>
</head>
<body>
<div class="column">
    <div class="1">1</div>
    <div class="2">2</div>
    <div class="3">3</div>
    <div class="4">4</div>
    <div class="5">5</div>
    <div class="6">6</div>
    <div class="7">7</div>
    <div class="8">8</div>
    <div class="9">9</div>
    <div class="10">10</div>
</div>
<div class="stage">
    <div class="row">
        <div class="1">1</div>
        <div class="2">2</div>
        <div class="3">3</div>
        <div class="4">4</div>
        <div class="5">5</div>
        <div class="6">6</div>
        <div class="7">7</div>
        <div class="8">8</div>
        <div class="9">9</div>
        <div class="10">10</div>
    </div>
    <div class="grid-11" style="background-color: red; border: none; border-bottom: 10px solid blue"></div>
    <div class="grid-12"></div>
    <div class="grid-13"></div>
    <div class="grid-14"></div>
    <div class="grid-15"></div>
    <div class="grid-16"></div>
    <div class="grid-17"></div>
    <div class="grid-18"></div>
    <div class="grid-19"></div>
    <div class="grid-20"></div>
    <div class="grid-21"></div>
    <div class="grid-22"></div>
    <div class="grid-23"></div>
    <div class="grid-24"></div>
    <div class="grid-25"></div>
    <div class="grid-26"></div>
    <div class="grid-27"></div>
    <div class="grid-28"></div>
    <div class="grid-29"></div>
    <div class="grid-30"></div>
    <div class="grid-31"></div>
    <div class="grid-32"></div>
    <div class="grid-33"></div>
    <div class="grid-34"></div>
    <div class="grid-35"></div>
    <div class="grid-36"></div>
    <div class="grid-37"></div>
    <div class="grid-38"></div>
    <div class="grid-39"></div>
    <div class="grid-40"></div>
    <div class="grid-41"></div>
    <div class="grid-42"></div>
    <div class="grid-43"></div>
    <div class="grid-44"></div>
    <div class="grid-45"></div>
    <div class="grid-46"></div>
    <div class="grid-47"></div>
    <div class="grid-48"></div>
    <div class="grid-49"></div>
    <div class="grid-50"></div>
    <div class="grid-51"></div>
    <div class="grid-52"></div>
    <div class="grid-53"></div>
    <div class="grid-54"></div>
    <div class="grid-55"></div>
    <div class="grid-56"></div>
    <div class="grid-57"></div>
    <div class="grid-58"></div>
    <div class="grid-59"></div>
    <div class="grid-60"></div>
    <div class="grid-61"></div>
    <div class="grid-62"></div>
    <div class="grid-63"></div>
    <div class="grid-64"></div>
    <div class="grid-65"></div>
    <div class="grid-66"></div>
    <div class="grid-67"></div>
    <div class="grid-68"></div>
    <div class="grid-69"></div>
    <div class="grid-70"></div>
    <div class="grid-71"></div>
    <div class="grid-72"></div>
    <div class="grid-73"></div>
    <div class="grid-74"></div>
    <div class="grid-75"></div>
    <div class="grid-76"></div>
    <div class="grid-77"></div>
    <div class="grid-78"></div>
    <div class="grid-79"></div>
    <div class="grid-80"></div>
    <div class="grid-81"></div>
    <div class="grid-82"></div>
    <div class="grid-83"></div>
    <div class="grid-84"></div>
    <div class="grid-85"></div>
    <div class="grid-86"></div>
    <div class="grid-87"></div>
    <div class="grid-88"></div>
    <div class="grid-89"></div>
    <div class="grid-90"></div>
    <div class="grid-91"></div>
    <div class="grid-92"></div>
    <div class="grid-93"></div>
    <div class="grid-94"></div>
    <div class="grid-95"></div>
    <div class="grid-96"></div>
    <div class="grid-97"></div>
    <div class="grid-98"></div>
    <div class="grid-99"></div>
    <div class="grid-100"></div>
    <div class="grid-101"></div>
    <div class="grid-102"></div>
    <div class="grid-103"></div>
    <div class="grid-104"></div>
    <div class="grid-105"></div>
    <div class="grid-106"></div>
    <div class="grid-107"></div>
    <div class="grid-108"></div>
    <div class="grid-109"></div>
    <div class="grid-110"></div>
</div>
<div class="control">
    <input type="text" id="direction">
    <button id="move">输入</button>
</div>
<script>
    let position = [1, 1];
    const move = document.getElementById('move');

    move.onclick = () => {
        let direction = document.getElementById('direction');
        let className = 'grid-' + position[0] + position[1];
        let ele = document.getElementsByClassName(className)[0];
        let eleDirection = [ele.style.borderTop, ele.style.borderRight, ele.style.borderBottom, ele.style.borderLeft];
        let flag;
        if (direction.value === "GO") {
            if (position[0] === 1 && eleDirection[0] !== 'none') {
                return;
            }
            if (position[0] === 10 && position[1] !== 0 && eleDirection[2] !== 'none') {
                return;
            }
            if (position[0] === 11 && eleDirection[2] !== 'none') {
                return;
            }
            if (position[1] === 0 && eleDirection[1] !== 'none') {
                return;
            }
            if (position[1] === 1 && eleDirection[3] !== 'none') {
                return;
            }

            if (eleDirection[0] !== 'none') {
                position[0] -= 1;
                flag = 0;
            } else if (eleDirection[1] !== 'none') {
                position[1] += 1;
                flag = 1;
            } else if (eleDirection[2] !== 'none') {
                console.log(111);
                position[0] += 1;
                flag = 2;
            } else {
                if (position[1] === 0) {
                    position[1] = 9;
                    position[0] -= 1;
                } else {
                    position[1] -= 1;
                }
                flag = 3;
            }

            if (position[1] === 10) {
                position[0] += 1;
                position[1] = 0;
            }

            className = 'grid-' + position[0] + position[1];
            let eleTmp = ele;
            eleTmp.style.border = '1px solid lightgrey';
            eleTmp.style.background = 'white';
            ele = document.getElementsByClassName(className)[0];
            ele.style.background = 'red';
            ele.style.border = 'none';
            switch (flag) {
                case 0:
                    ele.style.borderTop = '10px solid blue';
                    break;
                case 1:
                    ele.style.borderRight = '10px solid blue';
                    break;
                case 2:
                    ele.style.borderBottom = '10px solid blue';
                    break;
                case 3:
                    ele.style.borderLeft = '10px solid blue';
                    break;
                default:
                    break;
            }
        }
        else if (direction.value === "TUN LEF") {
            if (eleDirection[0] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderLeft = '10px solid blue';
            } else if (eleDirection[1] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderTop = '10px solid blue';
            } else if (eleDirection[2] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderRight = '10px solid blue';
            } else {
                ele.style.border = 'none';
                ele.style.borderBottom = '10px solid blue';
            }
        }
        else if (direction.value === "TUN RIG") {
            if (eleDirection[0] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderRight = '10px solid blue';
            } else if (eleDirection[1] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderBottom = '10px solid blue';
            } else if (eleDirection[2] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderLeft = '10px solid blue';
            } else {
                ele.style.border = 'none';
                ele.style.borderTop = '10px solid blue';
            }
        }
        else if (direction.value === "TUN BAC") {
            if (eleDirection[0] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderBottom = '10px solid blue';
            } else if (eleDirection[1] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderLeft = '10px solid blue';
            } else if (eleDirection[2] !== 'none') {
                ele.style.border = 'none';
                ele.style.borderTop = '10px solid blue';
            } else {
                ele.style.border = 'none';
                ele.style.borderRight = '10px solid blue';
            }
        }
    }
</script>
</body>
</html>